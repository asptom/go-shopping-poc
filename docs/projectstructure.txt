project/
├── go.mod
├── go.sum
├── Makefile
├── README.md
|
├── cmd/                                # Entrypoints for each microservice
│   ├── customer/
│   │   └── main.go
│   │   └── Dockerfile
│   ├── order/
│   │   └── main.go
│   │   └── Dockerfile
│   └── ...
│
├── deploy/                             # Kubernetes, Docker
│   ├── k8s/
│   └── docker-compose/
│
├── docs/                                # Architecture, specs, decision records
│
├── internal/                            # Private code (not importable)
│   │
│   ├── contracts/                       # Pure DTOs (events, requests, responses)
│   │   ├── events/
│   │   │   ├── customer.go
│   │   │   ├── order.go
│   │   │   └── ...
│   │   └── common.go
│   │
│   ├── platform/                        # Shared infrastructure (non-domain-specific)
│   │   ├── config/                      # Config loading, env, options
│   │   ├── logging/                     # Logging utilities / wrappers
│   │   ├── outbox/                      # Outbox pattern implementation
│   │   ├── event/
│   │   │   ├── bus/                     # Kafka (or other bus) implementation
│   │   │   │   ├── kafka/
│   │   │   │   │   ├── event.go
│   │   │   │   │   └── eventbus.go
│   │   │   ├── handler/                 # Common reusable handler code
│   │   │   │   └── ...
│   │   │   └── middleware.go            # Retry, dead letter, etc.
│   │   └── dataabase/                   # DB utilities (migrations, connections)
│   │
│   ├── service/                         # Domain services (the actual microservices)
│   │   ├── customer/
│   │   ├── migrations/                  # Customer specific DDL
│   │   │   │   └── 001_init.sql
│   │   │   ├── entity.go
│   │   │   ├── repository.go            # Persistence
│   │   │   ├── service.go               # Business logic
│   │   │   ├── handler.go               # HTTP/RPC handler
│   │   │   └── test/
│   │   │   └── ...
│   │   ├── eventreader/
│   │   │   ├── entity.go
│   │   │   ├── repository.go
│   │   │   ├── service.go
│   │   │   ├── handler.go
│   │   │   ├── eventhandlers/
│   │   │   │  └── on_customer_created.go
│   │   │   └── test/
│   │   │   └── ...
│   │
│   └── shared/                          # Optional: helpers shared across services
│       └── ...
│
├── pkg/                                 # Stable public APIs (importable by others)
│   └── (keep minimal)
│
├── resources/                           # Setup/bootstrap resources for local dev
│   ├── kafka/
│   ├── keycloak/
│   ├── make/
│   ├── postgresql/
│   │   └── init/
│   └── security/
│
└── ...
