# Environment variables for Shopping POC development environment
# These values override those in .env for development purposes

# Application environment
ENV_FILE=.env.local
ENV=local

# Project
PROJECT_HOME=$(PWD)
PROJECT_NAMESPACE=shopping

# Redpanda configuration
REDPANDA_CLUSTER_NAME=my-redpanda   
REDPANDA_CLUSTER_NAMESPACE=redpanda
REDPANDA_BROKER=$REDPANDA_CLUSTER_NAME.$REDPANDA_CLUSTER_NAMESPACE.svc.cluster.local:9092
REDPANDA_RESOURCES_DIR=$PROJECT_HOME/resources/redpanda
REDPANDA_USER=admin
REDPANDA_PASSWORD=adminpassword

# Kafka configuration
KAFKA_CLUSTER_NAME=kafka-0
KAFKA_CLUSTER_NAMESPACE=kafka
KAFKA_BROKER=$KAFKA_CLUSTER_NAME.$KAFKA_CLUSTER_NAMESPACE.svc.cluster.local:9092
KAFKA_RESOURCES_DIR=$PROJECT_HOME/resources/kafka
KAFKA_DEPLOYMENT_DIR=$PROJECT_HOME/deployments/kubernetes/kafka
KAFKA_TOPICS_FILE=$KAFKA_RESOURCES_DIR/topics.def

# Generic Event Broker configuration to accomdate both Redpanda and Kafka
EVENT_BROKER=kafka-clusterip.kafka.svc.cluster.local:9092

# WebSocket configuration
WEBSOCKET_URL=wss://pocstore.local/ws
WEBSOCKET_TIMEOUT_MS=5000
WEBSOCKET_READ_BUFFER=1024
WEBSOCKET_WRITE_BUFFER=1024
WEBSOCKET_PORT=":8080"

# PostgreSQL database configuration
PSQL_RESOURCES_DIR=$PROJECT_HOME/resources/postgresql
PSQL_DEPLOYMENT_DIR=$PROJECT_HOME/deployments/kubernetes/postgresql
PSQL_MODELS_DIR=$PSQL_RESOURCES_DIR/models

PSQL_NAMESPACE=postgres

PSQL_MASTER_DB=postgresdb
PSQL_MASTER_USER=postgresadmin
PSQL_MASTER_PASSWORD=postgresadminpw

PSQL_KEYCLOAK_DB=keycloakdb
PSQL_KEYCLOAK_ROLE=keycloakuser
PSQL_KEYCLOAK_PASSWORD=keycloaksecret

PSQL_CART_DB=cartdb
PSQL_CART_ROLE=cartuser
PSQL_CART_PASSWORD=cartsecret
PSQL_CART_DB_URL="postgres://$PSQL_CART_ROLE:$PSQL_CART_PASSWORD@postgresql:5432/$PSQL_CART_DB?sslmode=disable"

PSQL_ORDER_DB=ordersdb
PSQL_ORDER_ROLE=ordersuser
PSQL_ORDER_PASSWORD=orderssecret
PSQL_ORDER_DB_URL="postgres://$PSQL_ORDER_ROLE:$PSQL_ORDER_PASSWORD@postgresql:5432/$PSQL_ORDER_DB?sslmode=disable"

PSQL_CUSTOMER_DB=customersdb
PSQL_CUSTOMER_ROLE=customersuser
PSQL_CUSTOMER_PASSWORD=customerssecret
PSQL_CUSTOMER_DB_URL="postgres://$PSQL_CUSTOMER_ROLE:$PSQL_CUSTOMER_PASSWORD@postgres.postgres.svc.cluster.local:5432/$PSQL_CUSTOMER_DB?sslmode=disable"

# TLS certificates configuration
TLS_CONFIGURATION_DIR=$PROJECT_HOME/resources/security/tls_certificates/configuration
TLS_CERTIFICATES_DIR=$PROJECT_HOME/resources/security/tls_certificates/certificates

# Customer Service Configuration
CUSTOMER_SERVICE_PORT=":8080"
CUSTOMER_WRITE_TOPIC=CustomerEvents
CUSTOMER_READ_TOPICS=
CUSTOMER_GROUP=CustomerGroup
CUSTOMER_OUTBOX_PROCESSING_INTERVAL=10s

# Event Reader Kafka Topics
EVENT_READER_WRITE_TOPIC=
EVENT_READER_READ_TOPICS=CustomerEvents
EVENT_READER_GROUP=EventReaderGroup